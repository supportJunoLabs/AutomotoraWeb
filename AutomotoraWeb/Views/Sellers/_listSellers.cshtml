@model List<AutomotoraWeb.Models.SellerModel>
@using System.Web.UI.WebControls
@using AutomotoraWeb.Helpers;


  
 @(Html.DevExpress().GridView(
    settings =>
    {
        settings.Name = "gridSellers";
        settings.CallbackRouteValues = new { Controller = "sellers", Action = "listSellers" };
        settings.Width = Unit.Percentage(98);

        settings.SettingsBehavior.AllowSort = true;
        settings.SettingsBehavior.AllowGroup = true;
        settings.Settings.ShowGroupPanel = true;
        settings.KeyFieldName = "Id";     
                     
        //Adds

        settings.SettingsPager.AlwaysShowPager = true;
        settings.SettingsPager.Mode = GridViewPagerMode.ShowPager;
        settings.SettingsPager.FirstPageButton.Visible = true;
        settings.SettingsPager.LastPageButton.Visible = true;
        settings.SettingsPager.PageSize = 15;
        settings.SettingsPager.PageSizeItemSettings.Visible = true;
        settings.SettingsPager.PageSizeItemSettings.Items = new string[] { "10", "15", "20", "50" ,"75", "100"};
        //settings.Settings.VerticalScrollableHeight = 350;
        //settings.Settings.VerticalScrollBarStyle = GridViewVerticalScrollBarStyle.Virtual;     
                   
        //Adds       
                          
        //Filtros
        settings.Settings.ShowHeaderFilterButton = true;
        settings.Settings.ShowFilterRow = true;

        settings.Settings.ShowFilterBar = GridViewStatusBarMode.Visible;
        settings.SettingsText.FilterBarClear = "QuitarFiltros";
        settings.Settings.ShowFilterRowMenu = true;
        settings.CommandColumn.ClearFilterButton.Visible = true;
        settings.Settings.ShowHeaderFilterBlankItems = false;

        settings.SettingsPopup.HeaderFilter.MinWidth = 300;
        settings.SettingsPopup.HeaderFilter.MinHeight = 200;     
                     
                
        //Columnas Visibles (Propiedades)
        settings.Columns.Add("Id").Visible = false; ;
        settings.Columns.Add("Name").Settings.HeaderFilterMode=HeaderFilterMode.CheckedList;
        settings.Columns.Add("Address");
        settings.Columns.Add("Telephone");
        settings.Columns.Add("IngressDate").PropertiesEdit.DisplayFormatString = "dd/MM/yyyy";
        settings.Columns.Add("Observations");
        settings.Columns.Add("Enabled");
        //Columnas Ocultas
        //settings.Columns.Add("UsuarioMod").Visible = false;
        //settings.Columns.Add("FechaMod").Visible = false;
        //settings.Columns.Add("OrigenMod").Visible = false;

        //foreach (GridViewDataColumn column in settings.Columns)
        //    column.Settings.HeaderFilterMode = HeaderFilterMode.CheckedList;
                     
        //Columnas Visibles (Editores)
        settings.Columns.Add(column =>
        {
            column.Caption = "Acciones";
            column.Width = Unit.Pixel(90);
            column.SetDataItemTemplateContent(c =>
            {
                var id = DataBinder.Eval(c.DataItem, "Id");
                        
                //DevExpressHelper.WriteLineToResponse(@Html.ActionLink("Consultar", "Details", new { id = id }).ToHtmlString() + " ");
                //DevExpressHelper.WriteLineToResponse(@Html.ActionLink("Editar", "Edit", new { id = id }).ToHtmlString());
                //DevExpressHelper.WriteLineToResponse(@Html.ActionLink("Eliminar", "Delete", new { id = id }).ToHtmlString());

                ViewContext.Writer.WriteLine(@Html.BotonImagen("details", "Sellers", new { id = id }, "boton-consultar-mf", "Consultar").ToHtmlString());
                ViewContext.Writer.WriteLine(@Html.BotonImagen("edit", "Sellers", new { id = id }, "boton-editar-mf", "Editar").ToHtmlString());
                ViewContext.Writer.WriteLine(@Html.BotonImagen("delete", "Sellers", new { id = id }, "boton-eliminar-mf", "Eliminar").ToHtmlString());    
                            
            });
        });
    }
).Bind(Model).GetHtml())
    
