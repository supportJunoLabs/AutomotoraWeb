@model List<DLL_Backend.Gasto>
@using System.Web.UI.WebControls
@using AutomotoraWeb.Helpers;
@using AutomotoraWeb.Controllers.Sales.Maintenance;
@using AutomotoraWeb.Controllers.Sales.Maintenance.Vehiculos;
@using AutomotoraWeb.Models;

@{
    
    InfoGrilla ig = new InfoGrilla();
    ig.HiddenColumns = new List<string>() { "Codigo" }; // En esta lista hay que agregar las columnas que no se quieran mostrar en la grilla

    ig.TrunkColumns = new Dictionary<string, int>() { {"Descripcion", 15}, { "Observaciones", 15 }  };

    ig.NameGrid = "gridGastos";
    ig.Controller = VehiculosController.CONTROLLER;
    ig.ActionCallbackRoute = "listGastos";
    ig.KeyFieldName = "Codigo";
    ig.TypeOfModel = typeof(DLL_Backend.Gasto.GastoMD);
    ig.DobleClick = true;
    ig.BotonesAjax = true;
    ig.registrosPorPagina = 7;
    ig.RegistrosPorPaginaVisible = false;
    
    ViewBag.InfoGrilla = ig;
    
    if ((ViewBag.SoloLectura != null) && ((bool)ViewBag.SoloLectura)){
        ig.AddButton(new BotonAjaxGrilla(VehiculosController.DETAILS_GASTO, VehiculosController.CONTROLLER, "boton-consultar-mf boton-consultar-gasto", "Consulta gasto"));
    } else {
        ig.AddButton(new BotonAjaxGrilla(VehiculosController.DETAILS_GASTO, VehiculosController.CONTROLLER, "boton-consultar-mf boton-consultar-gasto", "Consulta gasto"));
        ig.AddButton(new BotonAjaxGrilla(VehiculosController.EDIT_GASTO, VehiculosController.CONTROLLER, "boton-editar-mf boton-editar-gasto", "Edición de Gasto"));
        ig.AddButton(new BotonAjaxGrilla(VehiculosController.DELETE_GASTO, VehiculosController.CONTROLLER, "boton-eliminar-mf boton-eliminar-gasto", "Eliminación de Gasto"));
    }
}

@Html.Partial("_generalGrid", Model)
  
